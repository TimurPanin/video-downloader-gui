# Руководство по использованию Video Downloader

## Быстрый старт

### 1. Запуск приложения

**Вариант A: Готовый .exe файл**
1. Скачайте `VideoDownloader.exe` из папки `dist/`
2. Убедитесь, что FFmpeg установлен и добавлен в PATH
3. Запустите `VideoDownloader.exe`

**Вариант B: Из исходного кода**
```bash
# Установка зависимостей
pip install -r requirements.txt

# Запуск приложения
python run.py
# или
python app.py
```

### 2. Сборка .exe файла

```bash
# Автоматическая сборка
python build.py

# Ручная сборка
pyinstaller --onefile --noconsole --name VideoDownloader app.py
```

## Основные функции

### Главное меню

При запуске вы увидите главное меню с двумя карточками:
- **YouTube** - для скачивания с YouTube
- **TikTok** - для скачивания с TikTok

### Настройки

В главном меню доступны кнопки:
- **Создать cookies.txt из браузера** - для доступа к приватным видео
- **Проверить версию** - показать версию yt-dlp
- **Обновить yt-dlp** - обновить загрузчик

## YouTube

### Основные опции

1. **Ссылка на YouTube** - вставьте ссылку на видео или плейлист
2. **Тип загрузки**:
   - Скачать одно видео
   - Скачать плейлист
3. **Дополнительные опции плейлиста**:
   - Разрешить MIX/радио (RD...)
   - Скачать первые N из плейлиста (0 = все)
4. **Качество**:
   - Лучшее
   - 1080p
   - 720p
   - 480p
   - 360p
5. **Только аудио (mp3)** - извлечь только звук

### Поддерживаемые ссылки

- `https://www.youtube.com/watch?v=VIDEO_ID`
- `https://youtu.be/VIDEO_ID`
- `https://m.youtube.com/watch?v=VIDEO_ID`
- `https://youtube.com/watch?v=VIDEO_ID`

## TikTok

### Основные опции

1. **Ссылка на TikTok** - вставьте ссылку на видео
2. **Качество**:
   - Лучшее
   - 720p
   - 480p
3. **Только аудио (mp3)** - извлечь только звук

### Поддерживаемые ссылки

- `https://www.tiktok.com/@user/video/VIDEO_ID`
- `https://tiktok.com/@user/video/VIDEO_ID`
- `https://m.tiktok.com/@user/video/VIDEO_ID`
- `https://vt.tiktok.com/SHORT_LINK/`

## Интерфейс

### Панель инструментов

- **Назад** - вернуться к главному меню
- **Папка загрузки** - показать текущую папку
- **Изменить** - выбрать новую папку загрузки
- **Открыть** - открыть папку загрузки в проводнике
- **Язык** - переключить между русским и английским

### Прогресс загрузки

- **Прогресс-бар** - показывает процент загрузки
- **Скорость** - текущая скорость загрузки
- **ETA** - оставшееся время
- **Кнопки**:
  - **СКАЧАТЬ** - начать загрузку
  - **ОТМЕНА** - отменить загрузку

### Логи

- **История загрузки** - показывает процесс загрузки
- **Автосохранять логи** - сохранять логи в файл

## Настройки

### Конфигурация

Настройки сохраняются в `%USERPROFILE%/.vd_settings.json`:

```json
{
  "download_dir": "C:\\Users\\User\\Downloads\\VD_Logs",
  "ratelimit_kbps": 0,
  "concurrent_frags": 3,
  "outtmpl": "%(playlist_title,playlist)s/%(playlist_index>03d)s - %(title).95s.%(ext)s",
  "use_cookies_from_browser": true,
  "cookies_browser": "chrome",
  "cookies_profile": "Default",
  "cookies_txt": "",
  "last_tab": "menu",
  "language": "ru"
}
```

### Параметры

- **download_dir** - папка для сохранения файлов
- **ratelimit_kbps** - лимит скорости (0 = без лимита)
- **concurrent_frags** - количество параллельных фрагментов
- **outtmpl** - шаблон имени файла (yt-dlp формат)
- **language** - язык интерфейса (ru/en)

## Cookies

### Создание cookies.txt

1. Нажмите "Создать cookies.txt из браузера"
2. Выберите браузер (Chrome/Edge/Chromium)
3. Укажите профиль (по умолчанию "Default")
4. Выберите место сохранения файла
5. Cookies будут автоматически подключены к загрузке

### Поддерживаемые браузеры

- Google Chrome
- Microsoft Edge
- Chromium

## Устранение неполадок

### FFmpeg не найден

**Ошибка**: "FFmpeg не найден. Добавьте его в PATH."

**Решение**:
1. Скачайте FFmpeg с https://ffmpeg.org/download.html
2. Распакуйте в папку (например, `C:\ffmpeg`)
3. Добавьте `C:\ffmpeg\bin` в переменную PATH
4. Перезапустите приложение

### Ошибки загрузки

**Проблема**: Видео не загружается

**Решения**:
1. Проверьте подключение к интернету
2. Убедитесь, что ссылка корректна
3. Создайте cookies.txt для приватных видео
4. Попробуйте другое качество
5. Проверьте, что видео доступно в вашем регионе

### Проблемы с cookies

**Проблема**: Не удается создать cookies.txt

**Решения**:
1. Убедитесь, что браузер запущен
2. Попробуйте другой браузер
3. Проверьте, что у вас есть доступ к YouTube/TikTok в браузере
4. Установите browser-cookie3: `pip install browser-cookie3`

### Медленная загрузка

**Проблема**: Низкая скорость загрузки

**Решения**:
1. Увеличьте количество параллельных фрагментов
2. Убедитесь, что лимит скорости не установлен
3. Проверьте стабильность интернет-соединения

## Примеры использования

### Скачивание YouTube видео

1. Откройте YouTube в браузере
2. Скопируйте ссылку на видео
3. В приложении выберите "YouTube"
4. Вставьте ссылку
5. Выберите качество
6. Нажмите "СКАЧАТЬ"

### Скачивание плейлиста

1. Выберите "Скачать плейлист"
2. Вставьте ссылку на плейлист
3. Укажите количество видео (0 = все)
4. Выберите качество
5. Нажмите "СКАЧАТЬ"

### Скачивание TikTok видео

1. Откройте TikTok в браузере
2. Скопируйте ссылку на видео
3. В приложении выберите "TikTok"
4. Вставьте ссылку
5. Выберите качество
6. Нажмите "СКАЧАТЬ"

### Извлечение аудио

1. Вставьте ссылку на видео
2. Отметьте "Только аудио (mp3)"
3. Нажмите "СКАЧАТЬ"
4. Получите MP3 файл

## Поддержка

При возникновении проблем:

1. Проверьте логи в приложении
2. Убедитесь, что все зависимости установлены
3. Проверьте настройки FFmpeg
4. Создайте issue в репозитории проекта
